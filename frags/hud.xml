<Cube name="HUD - Homelessness">
    <Annotations>
        <Annotation name="source_name">US Department of Housing and Urban Development</Annotation>
        <Annotation name="source_link">https://www.hudexchange.info/</Annotation>
        <Annotation name="dataset_name">HUD</Annotation>
        <Annotation name="topic">Demographics</Annotation>
    </Annotations>

    <Table name="homelessness" schema="hud"/>

    <Dimension name="Year">
        <Annotations>
            <Annotation name="dim_type">TIME</Annotation>
        </Annotations>
         <Hierarchy hasAll="true">
            <Level name="Year" column="year" type="Numeric" levelType="TimeYears" uniqueMembers="true" />
        </Hierarchy>
    </Dimension>

    <Dimension foreignKey="geo" name="Geography">
        <Annotations>
            <Annotation name="dim_type">GEOGRAPHY</Annotation>
        </Annotations>
        <Hierarchy hasAll="true" name="State">
            <Table name="states" schema="shapes2017"/>
            <Level column="geoid" name="State" nameColumn="name" uniqueMembers="true"/>
        </Hierarchy>
        <Hierarchy hasAll="true" name="County">
            <Table name="counties" schema="shapes2017"/>
            <Level column="geoid" name="County" nameColumn="name" uniqueMembers="true"/>
        </Hierarchy>
    </Dimension>

    <Measure name="CoC Name" column="coc_name" datatype="String" caption="CoC Name" aggregator="max" />

    <!-- Make a drilldown -->
    <!-- Will be pretty deep, as sheltered ... adds up to sheltered -->
    <!-- Age buckets as dimension -->

    <Measure name="Total Homeless" column="total_homeless" aggregator="sum" />
    <Measure name="Sheltered Homeless" column="sheltered_homeless" aggregator="sum" />
    <Measure name="Unsheltered Homeless" column="unsheltered_homeless" aggregator="sum" />

    <Measure name="Homeless Individuals" column="homeless_individuals" aggregator="sum" />
    <Measure name="Sheltered Homeless Individuals" column="sheltered_homeless_individuals" aggregator="sum" />
    <Measure name="Unsheltered Homeless Individuals" column="unsheltered_homeless_individuals" aggregator="sum" />
    <Measure name="Homeless People in Families" column="homeless_people_in_families" aggregator="sum" />
    <Measure name="Sheltered Homeless People in Families" column="sheltered_homeless_people_in_families" aggregator="sum" />
    <Measure name="Unsheltered Homeless People in Families" column="unsheltered_homeless_people_in_families" aggregator="sum" />
    <Measure name="Chronically Homeless" column="chronically_homeless" aggregator="sum" />
    <Measure name="Sheltered Chronically Homeless" column="sheltered_chronically_homeless" aggregator="sum" />
    <Measure name="Unsheltered Chronically Homeless" column="unsheltered_chronically_homeless" aggregator="sum" />
    <Measure name="Chronically Homeless Individuals" column="chronically_homeless_individuals" aggregator="sum" />
    <Measure name="Sheltered Chronically Homeless Individuals" column="sheltered_chronically_homeless_individuals" aggregator="sum" />
    <Measure name="Unsheltered Chronically Homeless Individuals" column="unsheltered_chronically_homeless_individuals" aggregator="sum" />
    <Measure name="Chronically Homeless People in Families" column="chronically_homeless_people_in_families" aggregator="sum" />
    <Measure name="Sheltered Chronically Homeless People in Families" column="sheltered_chronically_homeless_people_in_families" aggregator="sum" />
    <Measure name="Unsheltered Chronically Homeless People in Families" column="unsheltered_chronically_homeless_people_in_families" aggregator="sum" />
    <Measure name="Homeless Veterans" column="homeless_veterans" aggregator="sum" />
    <Measure name="Sheltered Homeless Veterans" column="sheltered_homeless_veterans" aggregator="sum" />
    <Measure name="Unsheltered Homeless Veterans" column="unsheltered_homeless_veterans" aggregator="sum" />

    <Measure name="Homeless Unaccompanied Youth (Under 25)" column="homeless_unaccompanied_youth_under_25" aggregator="sum" />
    <Measure name="Sheltered Homeless Unaccompanied Youth (Under 25)" column="sheltered_homeless_unaccompanied_youth_under_25" aggregator="sum" />
    <Measure name="Unsheltered Homeless Unaccompanied Youth (Under 25)" column="unsheltered_homeless_unaccompanied_youth_under_25" aggregator="sum" />
    <Measure name="Homeless Unaccompanied Children (Under 18)" column="homeless_unaccompanied_children_under_18" aggregator="sum" />
    <Measure name="Sheltered Homeless Unaccompanied Children (Under 18)" column="sheltered_homeless_unaccompanied_children_under_18" aggregator="sum" />
    <Measure name="Unsheltered Homeless Unaccompanied Children (Under 18)" column="unsheltered_homeless_unaccompanied_children_under_18" aggregator="sum" />
    <Measure name="Sheltered Homeless Unaccompanied Young Adults (Age 18-24)" column="sheltered_homeless_unaccompanied_young_adults_age_18_24" aggregator="sum" />
    <Measure name="Homeless Unaccompanied Young Adults (Age 18-24)" column="homeless_unaccompanied_young_adults_age_18_24" aggregator="sum" />
    <Measure name="Unsheltered Homeless Unaccompanied Young Adults (Age 18-24)" column="unsheltered_homeless_unaccompanied_young_adults_age_18_24" aggregator="sum" />
    <Measure name="Parenting Youth (Under 25)" column="parenting_youth_under_25" aggregator="sum" />
    <Measure name="Sheltered Parenting Youth (Under 25)" column="sheltered_parenting_youth_under_25" aggregator="sum" />
    <Measure name="Unsheltered Parenting Youth (Under 25)" column="unsheltered_parenting_youth_under_25" aggregator="sum" />
    <Measure name="Parenting Youth Under 18" column="parenting_youth_under_18" aggregator="sum" />
    <Measure name="Sheltered Parenting Youth Under 18" column="sheltered_parenting_youth_under_18" aggregator="sum" />
    <Measure name="Unsheltered Parenting Youth Under 18" column="unsheltered_parenting_youth_under_18" aggregator="sum" />
    <Measure name="Parenting Youth Age 18-24" column="parenting_youth_age_18_24" aggregator="sum" />
    <Measure name="Sheltered Parenting Youth Age 18-24" column="sheltered_parenting_youth_age_18_24" aggregator="sum" />
    <Measure name="Unsheltered Parenting Youth Age 18-24" column="unsheltered_parenting_youth_age_18_24" aggregator="sum" />
    <Measure name="Children of Parenting Youth" column="children_of_parenting_youth" aggregator="sum" />
    <Measure name="Sheltered Children of Parenting Youth" column="sheltered_children_of_parenting_youth" aggregator="sum" />
    <Measure name="Unsheltered Children of Parenting Youth" column="unsheltered_children_of_parenting_youth" aggregator="sum" />
</Cube>
